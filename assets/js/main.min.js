document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".nav-menu"),n=document.querySelectorAll(".has-submenu");e&&e.addEventListener("click",function(){this.classList.toggle("active"),t.classList.toggle("active"),document.body.classList.toggle("menu-open")}),n.forEach(function(e){const t=e.querySelector(".nav-link"),n=e.querySelector(".submenu");window.innerWidth<=992&&t.addEventListener("click",function(e){n&&(e.preventDefault(),n.classList.toggle("active"),t.classList.toggle("expanded"))})}),window.addEventListener("resize",function(){window.innerWidth>992&&(t.classList.remove("active"),e.classList.remove("active"),document.body.classList.remove("menu-open"))}),initCarousel(),initGalleryLightbox(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=document.querySelector(this.getAttribute("href"));t&&(e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"}))})})});function initCarousel(){const e=document.querySelector(".carousel");if(!e)return;const t=e.querySelectorAll(".carousel-slide"),n=document.querySelector(".carousel-prev"),o=document.querySelector(".carousel-next"),r=document.querySelector(".carousel-dots");if(t.length<=1)return;let i=0,s;function a(){e.style.transform=`translateX(-${i*100}%)`,c.forEach((e,t)=>{e.classList.toggle("active",t===i)})}function l(e){i=e,a(),u()}function d(){i=(i+1)%t.length,a()}function v(){i=(i-1+t.length)%t.length,a()}function m(){s=setInterval(d,5e3)}function u(){clearInterval(s),m()}t.forEach((e,t)=>{const n=document.createElement("button");n.classList.add("dot"),0===t&&n.classList.add("active"),n.setAttribute("aria-label",`Go to slide ${t+1}`),n.addEventListener("click",()=>l(t)),r.appendChild(n)});const c=r.querySelectorAll(".dot");n&&n.addEventListener("click",()=>{v(),u()}),o&&o.addEventListener("click",()=>{d(),u()});let f=0,g=0;e.addEventListener("touchstart",e=>{f=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{g=e.changedTouches[0].screenX,function(){const e=f-g;Math.abs(e)>50&&(e>0?d():v(),u())}()},{passive:!0}),e.addEventListener("mouseenter",()=>clearInterval(s)),e.addEventListener("mouseleave",m),m()}let lastScroll=0;const header=document.querySelector(".main-nav");function initGalleryLightbox(){const e=document.querySelectorAll(".gallery-item");if(0===e.length)return;e.forEach((t,n)=>{t.addEventListener("click",e=>{e.preventDefault(),function(n){t=n;const o=e[t].getAttribute("href"),r=e[t].querySelector("img").getAttribute("alt");document.body.insertAdjacentHTML("beforeend",`<div id="image-lightbox" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; display: flex; align-items: center; justify-content: center;"><button onclick="closeLightbox()" style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button><button onclick="prevImage()" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><polyline points="15 18 9 12 15 6"></polyline></svg></button><button onclick="nextImage()" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><polyline points="9 18 15 12 9 6"></polyline></svg></button><img src="${o}" alt="${r}" style="max-width: 90%; max-height: 90vh; object-fit: contain; border-radius: 4px; box-shadow: 0 8px 32px rgba(0,0,0,0.5);"></div>`),document.body.style.overflow="hidden",document.addEventListener("keydown",i);var t}(n)})});let t=0;function n(n){t=n;const o=e[t].getAttribute("href"),r=e[t].querySelector("img").getAttribute("alt");document.body.insertAdjacentHTML("beforeend",`<div id="image-lightbox" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 9999; display: flex; align-items: center; justify-content: center;"><button onclick="closeLightbox()" style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button><button onclick="prevImage()" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><polyline points="15 18 9 12 15 6"></polyline></svg></button><button onclick="nextImage()" style="position: absolute; right: 20px; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10;"><svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" style="width: 24px; height: 24px;"><polyline points="9 18 15 12 9 6"></polyline></svg></button><img src="${o}" alt="${r}" style="max-width: 90%; max-height: 90vh; object-fit: contain; border-radius: 4px; box-shadow: 0 8px 32px rgba(0,0,0,0.5);"></div>`),document.body.style.overflow="hidden",document.addEventListener("keydown",i)}function i(e){"Escape"===e.key&&o(),"ArrowRight"===e.key&&s(),"ArrowLeft"===e.key&&r()}function o(){const e=document.getElementById("image-lightbox");e&&(e.remove(),document.body.style.overflow="",document.removeEventListener("keydown",i))}function r(){o(),t=(t-1+e.length)%e.length,n(t)}function s(){o(),t=(t+1)%e.length,n(t)}window.closeLightbox=o,window.nextImage=s,window.prevImage=r}window.addEventListener("scroll",()=>{const e=window.pageYOffset;e>100?header.classList.add("scrolled"):header.classList.remove("scrolled"),lastScroll=e});